# Параметры узла "If link_code" в n8n

## Настройка узла "If link_code"

### Вкладка "Parameters"

#### Секция "Conditions"

**Режим:** Выберите **"Expression"** (не "Fixed")

**Условие 1:**
- **Left Value (Значение слева):**
  ```
  {{ $('Telegram Trigger').item.json.message.text }}
  ```
  Или можно использовать:
  ```
  {{ $json.message.text }}
  ```
  (если данные уже переданы из предыдущего узла)

- **Operator (Оператор):**
  Выберите из выпадающего списка: **"contains"** (содержит)

- **Right Value (Значение справа):**
  ```
  link_
  ```
  (просто текст `link_` без кавычек, если используете режим "Expression")

**Combinator (Комбинатор):**
- Оставьте **"and"** (по умолчанию)

---

### Альтернативный вариант (если "Expression" не работает):

**Режим:** Выберите **"Fixed"**

**Условие 1:**
- **Left Value:**
  ```
  {{ $('Telegram Trigger').item.json.message.text }}
  ```
  (нажмите на иконку "T" справа, чтобы переключиться в режим выражения)

- **Operator:**
  **"contains"** или **"includes"**

- **Right Value:**
  ```
  link_
  ```

---

### Секция "Convert types where required"

- **Включите** переключатель (если доступен)
- Это поможет автоматически преобразовывать типы данных

---

### Секция "Options"

- Оставьте по умолчанию (обычно пусто)

---

## Визуальное представление в интерфейсе n8n:

```
┌─────────────────────────────────────┐
│ Conditions                          │
│ [Fixed] [Expression] ← выберите    │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ {{ $('Telegram Trigger')... }} │ │ ← Left Value
│ │         ↓                       │ │
│ │    [contains ▼]                 │ │ ← Operator
│ │         ↓                       │ │
│ │      link_                      │ │ ← Right Value
│ └─────────────────────────────────┘ │
│                                     │
│ Combinator: [and ▼]                │
└─────────────────────────────────────┘
```

---

## Проверка работы:

После настройки:
1. Нажмите **"Execute step"** (красная кнопка вверху)
2. Проверьте **OUTPUT** внизу:
   - Если команда `/start link_ABC123` → должно быть **TRUE**
   - Если команда `/start` → должно быть **FALSE**

---

## Важно:

- Убедитесь, что узел "Telegram Trigger" выполнен перед этим узлом
- Если данные не передаются, используйте полный путь: `$('Telegram Trigger').item.json.message.text`
- Если используете режим "Expression", значения должны быть в формате выражений n8n

