# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü—É—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–∞

## üî¥ –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "–ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –ï–≤–æ–π" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—É—Å—Ç–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å –∏—Å—Ç–æ—Ä–∏–µ–π** (`ChatHistorySidebar`)
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–æ –¥–∞—Ç–∞–º
   - –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ —Ö–µ–¥–µ—Ä–µ —á–∞—Ç–∞

2. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é**
   - –ö–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é" –≤ –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏
   - –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

3. ‚úÖ **–£–ª—É—á—à–µ–Ω ChatInterface**
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤ —Ö–µ–¥–µ—Ä–µ
   - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ü—Ä–∏—á–∏–Ω–∞ 1: –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ï—Å–ª–∏ `user.subscriptionStatus !== 'active'`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `ChatAuthGate` —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º –æ—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É.

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.

### –ü—Ä–∏—á–∏–Ω–∞ 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ï—Å–ª–∏ `user === null`, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —ç–∫—Ä–∞–Ω —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏ –µ—Å—Ç—å —Å–µ—Å—Å–∏—è.

### –ü—Ä–∏—á–∏–Ω–∞ 3: –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏.

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å.

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

1. **–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏

2. **–í Network**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/chat/history`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–æ–≤

3. **–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö**:
   ```sql
   -- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   SELECT id, telegram_id, subscription_status, is_subscribed, subscription_plan
   FROM menohub_users
   WHERE id = YOUR_USER_ID;
   ```

## ‚úÖ –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∏—Å—Ç–æ—Ä–∏–∏

- **–û—Ç–∫—Ä—ã—Ç–∏–µ**: –ö–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –≤ —Ö–µ–¥–µ—Ä–µ —á–∞—Ç–∞
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
  - –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
  - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–∞–º
  - –í—Ä–µ–º—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ**: –ö–Ω–æ–ø–∫–∞ "–°–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é" –≤ —Ö–µ–¥–µ—Ä–µ –ø–∞–Ω–µ–ª–∏

### Layout

- **Desktop**: –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞ –æ—Ç —á–∞—Ç–∞
- **Mobile**: –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –∫–∞–∫ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (fullscreen)

## üîß –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Å–µ –µ—â–µ –ø—É—Å—Ç–∞—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –æ—à–∏–±–∫–∏
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network** - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ª–∏ API –∑–∞–ø—Ä–æ—Å—ã
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é** - –µ—Å—Ç—å –ª–∏ —Å–µ—Å—Å–∏—è
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É** - –∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –æ–Ω–∞

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
app/chat/page.tsx
  ‚îú‚îÄ ChatAuthGate (–µ—Å–ª–∏ –Ω–µ—Ç –ø–æ–¥–ø–∏—Å–∫–∏/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
  ‚îî‚îÄ ChatInterface (–µ—Å–ª–∏ –≤—Å–µ –û–ö)
      ‚îú‚îÄ –û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç
      ‚îî‚îÄ ChatHistorySidebar (–±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å)
```

